(this["webpackJsonpreact-lights-out"]=this["webpackJsonpreact-lights-out"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),l=(a(16),a(1)),s=a(2),c=a(4),p=a(3),u=a(5),m=a(10),h=a(7),d=a(6),f=(a(17),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.flipCellsAroundMe(a.props.chord,e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="Cell"+(this.props.isLit?" Cell-lit":"");return r.a.createElement("td",{className:e,onClick:this.handleClick})}}]),t}(n.Component));var b=function(e,t){for(var a,n=[0,1,1,0,0,1],r=[!1,!0],o=[],i=0;i<t;i++)o.push([]);for(var l=0;l<e;l++)for(var s=0;s<t;s++)o[l][s]=r[n[(a=5,Math.floor(Math.random()*Math.floor(a)))]];return o},v=(a(18),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).flipCellsAround=function(e,t){var n,r=Object(h.a)({},a.state),o=r.board,i=r.steps,l=r.playing,s=e.split("-").map(Number),c=Object(m.a)(s,2),p=c[0],u=c[1];o[p][u]=!o[p][u],o[p-1]&&(o[p-1][u]=!o[p-1][u]),o[u+1]&&(o[p][u+1]=!o[p][u+1]),o[u-1]&&(o[p][u-1]=!o[p][u-1]),o[p+1]&&(o[p+1][u]=!o[p+1][u]),i++,(n=o.every((function(e){return e.every((function(e){return!1===e}))})))&&(a.stopTimer(),l=!1),a.setState({board:o,hasWon:n,steps:i,playing:l})},a.calculateScore=function(){var e=function(e){return e||(e="00:00:00"),e=e.split(":"),(3600*parseInt(e[0])+parseInt(60*e[1]+parseInt(e[2])))/1e3},t=e(a.props.bestPlayTime),n=e(a.state.time),r=a.props.timeScoreBase*Math.pow(2.5,Number(t-n)),o=a.props.stepScoreBase*Math.pow(1.5,Number(a.props.bestStepCount-a.state.steps));return Math.floor(Math.sqrt(r*o))},a.play=function(){a.stopTimer(),a.setState({board:b(a.props.nrows,a.props.ncols),steps:0,score:0,time:a.showTime(0,0,0,0),timeout:!1,hasWon:!1,playing:!0,pause:!1})},a.restart=function(){return a.play()},a.startTimer=function(){var e;e=new Date;var t=new Date-e;t/=1e3,a.setState({time:t})},a.showTime=function(e,t,n,r){var o;a.timer=setInterval((function(){if(r++,n=r%60,t=Math.floor(r/60),e=Math.floor(r/3600),n=n.toString().padStart(2,"0"),t=t.toString().padStart(2,"0"),e=e.toString().padStart(2,"0"),(o="".concat(e,":").concat(t,":").concat(n))<=a.props.timeout)return a.setState({time:o}),o;a.setState({timeout:!0,playing:!1,hasWon:!1}),clearInterval(a.timer)}),1e3)},a.stopTimer=function(){clearInterval(a.timer)},a.state={board:b(a.props.nrows,a.props.ncols),steps:0,score:0,time:"00:00:00",playing:!1,timeout:!1,pause:!1,hasWon:!1},a.showTime=a.showTime.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="";document.addEventListener("keydown",(function(a){var n=a.key.toLowerCase();if(-1==="abcdefghijklmnopqrstuvwxyz0123456789".indexOf(n))return t&&"zubi"===t&&e.setState({board:(e.props.ncols,e.props.nrows,[[!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1]])}),void(t="");t+=n}))}},{key:"createBoard",value:function(){return[]}},{key:"render",value:function(){var e=this,t=this.props,a=t.ncols,n=t.nrows,o={height:"".concat(a+.25,"em"),width:"".concat(n+.25,"em"),fontSize:"".concat(5,"em"),margin:"auto",left:"calc(50% - ".concat(n/2+.15,"em)")},i=Object(h.a)({},o);i.lineHeight="".concat(a,"em");var l=this.state,s=l.playing,c=l.time,p=l.timeout;return r.a.createElement("div",{className:"Board"},r.a.createElement("h1",null,"Light Out!"),s||p?!s&&p?r.a.createElement("div",{className:"Board-cover timeout",style:o},r.a.createElement("h2",null,"Timeout!!! ",c),r.a.createElement("span",{onClick:this.restart,role:"img","aria-label":"replay"},"\ud83d\udd04")):"":r.a.createElement("div",{className:"Board-cover playing",style:i},r.a.createElement("span",{onClick:this.play,role:"img","aria-label":"play"},"\u25b6\ufe0f"),r.a.createElement("span",{className:"Board-info"},r.a.createElement("div",{className:"Board-info-tab"},r.a.createElement("input",{type:"checkbox",id:"info"}),r.a.createElement("label",{className:"tab-label",htmlFor:"info"},"How to play"),r.a.createElement("div",{className:"tab-content"},r.a.createElement("p",null,"Lights Out is a puzzle game, played on a grid of individual light which can either be lit or unlit."),"The puzzle is won when all the lights are turned off. You can click on a cell to toggle that light -- but it also toggles the light above it, to the left of it, to the right of it and below it. (Cells on an edge or in the corner won't flip as many lights since they are missing some neighbors).")))),this.state.hasWon&&!this.state.timeout&&r.a.createElement("div",{className:"Board-cover won",style:o},r.a.createElement("h2",null,"You Won"),r.a.createElement("iframe",{src:"https://giphy.com/embed/1dMNqVx9Kb12EBjFrc",frameBorder:"0",className:"giphy-embed won-giphy",title:"won"}),r.a.createElement("p",null,"Total Steps: ",this.state.steps),r.a.createElement("p",null,"Score: ",this.calculateScore(this.state.steps)),r.a.createElement("span",{onClick:this.play,role:"img","aria-label":"replay"},"\ud83d\udd04")),s&&!p&&r.a.createElement("p",null,"Time: ",c),r.a.createElement("table",null,r.a.createElement("tbody",null,this.state.board.map((function(t,a){return r.a.createElement("tr",{key:a},t.map((function(t,n){return r.a.createElement(f,{key:n,chord:"".concat(a,"-").concat(n),isLit:e.state.board[a][n],flipCellsAroundMe:e.flipCellsAround})})))})))))}}]),t}(n.Component));v.defaultProps={nrows:5,ncols:5,timeout:"00:60:00",timeScoreBase:"15",stepScoreBase:"30",bestPlayTime:"00:10:00",bestStepCount:30};var y=v,g=(a(19),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.eab313d2.chunk.js.map